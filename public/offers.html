<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Offers â€” PetRewardHub</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<link rel="stylesheet" href="styles.css"/>
<style>body{font-family:Inter,system-ui,sans-serif}</style>
</head>
<body class="bg-gradient-to-br from-[#eff6ff] to-[#fef9c3]">

<header class="sticky top-0 z-50 bg-gradient-to-r from-[#3b82f6] to-[#facc15] text-white shadow-md">
  <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
    <div class="font-extrabold text-lg flex items-center gap-2">ğŸ¾ PetRewardHub</div>
    <div class="flex items-center gap-3 text-sm">
      <span class="inline-flex items-center gap-1 rounded-full bg-white/30 px-3 h-8 font-bold">ğŸ’° <span id="coinBadge">0</span> Coins</span>
      <span id="userEmail" class="text-white/90">Not signed in</span>
      <button id="logoutBtn" class="ml-1 h-9 px-4 rounded-full bg-white/20 hover:bg-white/30 font-semibold">Logout</button>
    </div>
  </div>
</header>

<main class="max-w-6xl mx-auto px-6 py-10">
  <div class="flex flex-col sm:flex-row justify-between items-center mb-8">
    <div>
      <h2 class="text-3xl font-bold mb-2">ğŸ¯ Exclusive Pet Offers</h2>
      <p class="text-gray-600">Pick your country to discover trending offers and earn coins for free gifts.</p>
    </div>
    <div class="mt-4 sm:mt-0">
      <label class="mr-2 font-semibold text-gray-700">ğŸŒ Country:</label>
      <select id="country" class="border rounded-lg px-3 py-2 bg-white shadow">
        <option value="">All</option>
        <option value="us">ğŸ‡ºğŸ‡¸ United States</option>
        <option value="gb">ğŸ‡¬ğŸ‡§ United Kingdom</option>
        <option value="ca">ğŸ‡¨ğŸ‡¦ Canada</option>
        <option value="au">ğŸ‡¦ğŸ‡º Australia</option>
        <option value="in">ğŸ‡®ğŸ‡³ India</option>
      </select>
    </div>
  </div>

  <div id="offerContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    <p>â³ Loading offers...</p>
  </div>
</main>

<footer class="text-center text-sm text-gray-500 py-10">Â© 2025 PetRewardHub Â· Safe & Trusted</footer>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<script src="firebase-init.js"></script>
<script src="app.js"></script>

<!-- Old jQuery for JSONP -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<script>
attachHeaderAuth(); // show "signed in + coins" from this page onward

firebase.auth().onAuthStateChanged(function(user){
  if (!user) return;
  const select = document.getElementById("country");
  const load   = ()=> loadAdBlueOffers({ containerSel:"#offerContainer", uid:user.uid, country:select.value, limit:9 });
  load();
  select.addEventListener("change", load);
});
</script>
</body>
</html>
