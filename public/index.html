<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PetRewardHub ‚Äî Love & Rewards for Pets</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles.css">

  <!-- Firebase SDKs (compat) -->
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-firestore-compat.js"></script>

  <!-- Your main JS -->
  <script src="app.js" defer></script>

  <style>
    .product-image {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: zoom-in;
    }
    .product-image:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    }
    .reward-card {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .reward-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    }
  </style>
</head>
<body class="font-sans bg-gradient-to-b from-[#e6f6ff] to-[#fff6e6] min-h-screen">

  <!-- NAV -->
  <nav class="bg-white/90 shadow sticky top-0 z-40">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img src="https://cdn-icons-png.flaticon.com/512/616/616408.png" alt="logo" class="w-10 h-10 rounded-full">
        <div>
          <div class="text-xl font-bold text-slate-800">PetRewardHub</div>
          <div class="text-xs text-slate-500">Love your pet ‚Ä¢ Earn rewards</div>
        </div>
      </div>
      <div class="flex items-center gap-3">
        <a href="#how-it-works" class="text-slate-700 hover:text-sky-600">How it works</a>
        <a href="select-pet.html" class="text-slate-700 hover:text-sky-600">Start</a>
        <button onclick="openLoginModal()" class="rounded-full px-4 py-2 bg-gradient-to-r from-sky-500 to-yellow-400 text-white shadow">Log in</button>
        <a href="signup.html" class="rounded-full px-4 py-2 border border-yellow-300 bg-white text-slate-800">Sign up</a>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="max-w-6xl mx-auto px-4 py-16 text-center">
    <div class="bg-white/90 backdrop-blur rounded-3xl p-12 shadow-xl">
      <h1 class="text-4xl md:text-5xl font-extrabold text-slate-800 mb-4">Earn Rewards for Caring for Your Pet</h1>
      <p class="text-slate-600 max-w-2xl mx-auto mb-6">Complete quick pet quizzes & sponsored offers ‚Äî collect coins and redeem free toys, treats & gadgets.</p>
      <div class="flex items-center justify-center gap-4">
        <a href="select-pet.html" class="rounded-full px-6 py-3 bg-gradient-to-r from-sky-500 to-yellow-400 text-white font-semibold shadow-lg">Start for free</a>
        <button onclick="openLoginModal()" class="rounded-full px-6 py-3 bg-white border border-slate-200 text-slate-800">Log in</button>
      </div>

      <div class="mt-8 grid grid-cols-3 gap-6">
        <div class="rounded-xl bg-sky-50 p-6 text-center">
          <div class="text-3xl mb-2">üê∂</div>
          <div class="font-semibold">Dog toys</div>
        </div>
        <div class="rounded-xl bg-yellow-50 p-6 text-center">
          <div class="text-3xl mb-2">üê±</div>
          <div class="font-semibold">Cat beds</div>
        </div>
        <div class="rounded-xl bg-sky-50 p-6 text-center">
          <div class="text-3xl mb-2">ü¶¥</div>
          <div class="font-semibold">Treats & more</div>
        </div>
      </div>
    </div>
  </header>

  <!-- HOW IT WORKS -->
  <section id="how-it-works" class="max-w-7xl mx-auto px-6 py-12">
    <h2 class="text-3xl font-bold text-center mb-8 text-slate-800">How it works ‚Äî simple & safe</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <div class="bg-white rounded-2xl p-6 shadow text-center">
        <div class="text-3xl">1Ô∏è‚É£</div>
        <div class="font-semibold mt-2">Sign up & create profile</div>
        <p class="text-slate-500 mt-2">Secure login ‚Äî Email or Google</p>
      </div>
      <div class="bg-white rounded-2xl p-6 shadow text-center">
        <div class="text-3xl">2Ô∏è‚É£</div>
        <div class="font-semibold mt-2">Take a 5-question quiz</div>
        <p class="text-slate-500 mt-2">One question per page ‚Äî fast</p>
      </div>
      <div class="bg-white rounded-2xl p-6 shadow text-center">
        <div class="text-3xl">3Ô∏è‚É£</div>
        <div class="font-semibold mt-2">Complete offers & earn coins</div>
        <p class="text-slate-500 mt-2">Coins added only after network confirms</p>
      </div>
    </div>
  </section>

  <!-- REWARDS -->
  <section class="max-w-7xl mx-auto px-6 py-12">
    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center">Redeem popular rewards (100 coins)</h3>
    <div class="grid md:grid-cols-3 gap-6">
      <!-- Dog Chew Toy -->
      <div class="reward-card bg-white rounded-2xl p-6 shadow text-center" onclick="openProductModal('dog-toy')">
        <div class="relative group">
          <img src="https://cdn-icons-png.flaticon.com/512/616/616554.png" 
               class="mx-auto w-20 h-20 product-image" 
               alt="Dog Chew Toy"
               onmouseenter="showImagePreview(this, 'https://cdn-icons-png.flaticon.com/512/616/616554.png')">
          <div class="absolute inset-0 bg-blue-500 bg-opacity-10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity"></div>
        </div>
        <div class="font-semibold mt-4">Dog Chew Toy</div>
        <div class="text-sm text-slate-500 mt-1">Interactive & Durable</div>
        <div class="text-yellow-500 font-bold mt-2">100 coins</div>
      </div>

      <!-- Cat Cozy Bed -->
      <div class="reward-card bg-white rounded-2xl p-6 shadow text-center" onclick="openProductModal('cat-bed')">
        <div class="relative group">
          <img src="https://cdn-icons-png.flaticon.com/512/616/616408.png" 
               class="mx-auto w-20 h-20 product-image" 
               alt="Cat Cozy Bed"
               onmouseenter="showImagePreview(this, 'https://cdn-icons-png.flaticon.com/512/616/616408.png')">
          <div class="absolute inset-0 bg-yellow-500 bg-opacity-10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity"></div>
        </div>
        <div class="font-semibold mt-4">Cat Cozy Bed</div>
        <div class="text-sm text-slate-500 mt-1">Soft & Warm</div>
        <div class="text-yellow-500 font-bold mt-2">100 coins</div>
      </div>

      <!-- Automatic Feeder -->
      <div class="reward-card bg-white rounded-2xl p-6 shadow text-center" onclick="openProductModal('feeder')">
        <div class="relative group">
          <img src="https://cdn-icons-png.flaticon.com/512/616/616430.png" 
               class="mx-auto w-20 h-20 product-image" 
               alt="Automatic Feeder"
               onmouseenter="showImagePreview(this, 'https://cdn-icons-png.flaticon.com/512/616/616430.png')">
          <div class="absolute inset-0 bg-green-500 bg-opacity-10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity"></div>
        </div>
        <div class="font-semibold mt-4">Automatic Feeder</div>
        <div class="text-sm text-slate-500 mt-1">Smart & Convenient</div>
        <div class="text-yellow-500 font-bold mt-2">100 coins</div>
      </div>
    </div>
  </section>

  <footer class="max-w-7xl mx-auto px-6 py-8 text-center text-slate-600">
    <div>¬© PetRewardHub ‚Ä¢ Built for pet parents</div>
  </footer>

  <!-- LOGIN MODAL -->
  <div id="loginModal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/40"></div>
    <div class="flex items-center justify-center min-h-screen p-4">
      <div class="bg-white rounded-3xl p-6 w-full max-w-md shadow-2xl relative">
        <button onclick="closeLoginModal()" class="absolute top-4 right-4 text-slate-400 hover:text-slate-600">
          ‚úï
        </button>
        <div class="text-center mb-6">
          <img src="https://cdn-icons-png.flaticon.com/512/616/616408.png" class="w-12 h-12 mx-auto mb-2" alt="">
          <h3 class="text-2xl font-bold text-slate-900">Welcome Back!</h3>
          <p class="text-slate-500 mt-1">Log in to access offers & redeem rewards</p>
        </div>

        <form id="loginForm" class="space-y-4">
          <input id="loginEmail" type="email" required placeholder="Email" class="w-full rounded-full border px-4 py-3" />
          <input id="loginPassword" type="password" required placeholder="Password" class="w-full rounded-full border px-4 py-3" />
          <div class="flex gap-3">
            <button type="submit" class="flex-1 rounded-full bg-gradient-to-r from-sky-500 to-yellow-400 text-white py-3">Log in</button>
            <a href="signup.html" class="flex-1 rounded-full border py-3 text-center">Sign up</a>
          </div>
          <div id="loginError" class="hidden text-sm text-red-600"></div>
        </form>

      </div>
    </div>
  </div>

  <!-- PRODUCT MODAL -->
  <div id="productModal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/60"></div>
    <div class="flex items-center justify-center min-h-screen p-4">
      <div class="bg-white rounded-3xl p-6 w-full max-w-4xl shadow-2xl relative max-h-[90vh] overflow-y-auto">
        <button onclick="closeProductModal()" class="absolute top-4 right-4 text-slate-400 hover:text-slate-600 z-10 bg-white rounded-full p-2">
          ‚úï
        </button>
        
        <div id="productContent" class="grid md:grid-cols-2 gap-8">
          <!-- Product images will be inserted here -->
        </div>
      </div>
    </div>
  </div>

  <!-- IMAGE PREVIEW OVERLAY -->
  <div id="imagePreview" class="fixed inset-0 z-50 hidden bg-black/80 items-center justify-center">
    <div class="relative max-w-4xl max-h-full p-4">
      <button onclick="closeImagePreview()" class="absolute -top-4 -right-4 text-white bg-red-500 rounded-full w-8 h-8 flex items-center justify-center">‚úï</button>
      <img id="previewImage" src="" class="max-w-full max-h-[80vh] object-contain rounded-lg" alt="Preview">
    </div>
  </div>

  <script>
    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyDQFmVlYyJGc0GaY5F6p2fWKqrrYkrQzAo",
      authDomain: "petrewardhub.firebaseapp.com",
      projectId: "petrewardhub",
      storageBucket: "petrewardhub.firebasestorage.app",
      messagingSenderId: "1087250543825",
      appId: "1:1087250543825:web:4d92bc084978fab9a0c1f0"
    };

    // Initialize Firebase if not already initialized
    if (typeof firebase !== 'undefined' && !firebase.apps.length) {
      firebase.initializeApp(firebaseConfig);
    }

    // Product data
    const products = {
      'dog-toy': {
        title: 'Premium Dog Chew Toy',
        price: '100 coins',
        images: [
          'https://cdn-icons-png.flaticon.com/512/616/616554.png',
          'https://cdn-icons-png.flaticon.com/512/3082/3082385.png',
          'https://cdn-icons-png.flaticon.com/512/2937/2937857.png'
        ],
        description: 'Durable and interactive chew toy designed for dogs of all sizes. Made from safe, non-toxic materials that promote dental health and satisfy natural chewing instincts.',
        features: [
          'Made from 100% natural rubber',
          'Promotes dental health',
          'Suitable for all dog sizes',
          'Non-toxic and safe',
          'Long-lasting durability'
        ],
        specifications: {
          'Material': 'Natural Rubber',
          'Size': 'Medium (15cm)',
          'Color': 'Assorted Colors',
          'Age Range': 'All ages',
          'Care': 'Hand wash with mild soap'
        }
      },
      'cat-bed': {
        title: 'Luxury Cat Cozy Bed',
        price: '100 coins',
        images: [
          'https://cdn-icons-png.flaticon.com/512/616/616408.png',
          'https://cdn-icons-png.flaticon.com/512/2202/2202112.png',
          'https://cdn-icons-png.flaticon.com/512/1074/1074072.png'
        ],
        description: 'Ultra-soft and warm cat bed with raised edges for security and comfort. Perfect for napping and provides a sense of security for your feline friend.',
        features: [
          'Super soft plush material',
          'Raised edges for security',
          'Machine washable',
          'Non-slip bottom',
          'Perfect for cats of all sizes'
        ],
        specifications: {
          'Material': 'Premium Plush',
          'Size': '45cm diameter',
          'Color': 'Gray & White',
          'Filling': 'High-loft polyester',
          'Care': 'Machine washable'
        }
      },
      'feeder': {
        title: 'Smart Automatic Feeder',
        price: '100 coins',
        images: [
          'https://cdn-icons-png.flaticon.com/512/616/616430.png',
          'https://cdn-icons-png.flaticon.com/512/3142/3142733.png',
          'https://cdn-icons-png.flaticon.com/512/3022/3022555.png'
        ],
        description: 'Programmable automatic pet feeder with portion control and scheduling. Never worry about feeding your pet on time again with this smart solution.',
        features: [
          'Programmable feeding schedule',
          'Portion control settings',
          'Battery backup included',
          'Easy to clean design',
          'LCD display for easy programming'
        ],
        specifications: {
          'Capacity': '4L food storage',
          'Power': 'AC adapter + battery backup',
          'Meals': 'Up to 4 meals per day',
          'Material': 'Food-grade plastic',
          'Display': 'LCD screen'
        }
      }
    };

    // Modal functions
    function openProductModal(productId) {
      const product = products[productId];
      if (!product) return;

      const modal = document.getElementById('productModal');
      const content = document.getElementById('productContent');
      
      content.innerHTML = `
        <!-- Image Gallery -->
        <div class="space-y-4">
          <div class="bg-gray-50 rounded-2xl p-4 flex items-center justify-center">
            <img src="${product.images[0]}" 
                 class="w-64 h-64 object-contain product-image cursor-zoom-in" 
                 alt="${product.title}"
                 onclick="showImagePreview(this, '${product.images[0]}')">
          </div>
          <div class="flex gap-2 justify-center">
            ${product.images.map((img, index) => `
              <img src="${img}" 
                   class="w-16 h-16 object-contain border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-500 product-image" 
                   alt="Thumbnail ${index + 1}"
                   onclick="changeMainImage('${img}')"
                   onmouseenter="showImagePreview(this, '${img}')">
            `).join('')}
          </div>
        </div>

        <!-- Product Details -->
        <div class="space-y-6">
          <div>
            <h2 class="text-3xl font-bold text-slate-800">${product.title}</h2>
            <div class="text-2xl font-bold text-yellow-500 mt-2">${product.price}</div>
          </div>

          <div>
            <h3 class="text-lg font-semibold text-slate-700 mb-2">Description</h3>
            <p class="text-slate-600 leading-relaxed">${product.description}</p>
          </div>

          <div>
            <h3 class="text-lg font-semibold text-slate-700 mb-2">Key Features</h3>
            <ul class="space-y-2">
              ${product.features.map(feature => `
                <li class="flex items-center text-slate-600">
                  <span class="w-2 h-2 bg-blue-500 rounded-full mr-3"></span>
                  ${feature}
                </li>
              `).join('')}
            </ul>
          </div>

          <div>
            <h3 class="text-lg font-semibold text-slate-700 mb-2">Specifications</h3>
            <div class="grid gap-2">
              ${Object.entries(product.specifications).map(([key, value]) => `
                <div class="flex justify-between border-b border-gray-100 pb-2">
                  <span class="text-slate-600 font-medium">${key}:</span>
                  <span class="text-slate-800">${value}</span>
                </div>
              `).join('')}
            </div>
          </div>

          <div class="bg-blue-50 rounded-xl p-4">
            <h4 class="font-semibold text-blue-800 mb-2">üéÅ How to Get This Reward</h4>
            <p class="text-blue-700 text-sm">
              1. Complete the pet quiz<br>
              2. Earn 100 coins from offers<br>
              3. Redeem for this free item!
            </p>
          </div>

          <button onclick="startEarning()" class="w-full rounded-full bg-gradient-to-r from-sky-500 to-yellow-400 text-white py-4 font-semibold text-lg hover:shadow-lg transition-all">
            Start Earning Coins
          </button>
        </div>
      `;

      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closeProductModal() {
      const modal = document.getElementById('productModal');
      modal.classList.add('hidden');
      document.body.style.overflow = 'auto';
    }

    function changeMainImage(src) {
      const mainImage = document.querySelector('#productContent .bg-gray-50 img');
      if (mainImage) {
        mainImage.src = src;
      }
    }

    function showImagePreview(element, imageSrc) {
      const preview = document.getElementById('imagePreview');
      const previewImage = document.getElementById('previewImage');
      
      previewImage.src = imageSrc;
      preview.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closeImagePreview() {
      const preview = document.getElementById('imagePreview');
      preview.classList.add('hidden');
      document.body.style.overflow = 'auto';
    }

    function startEarning() {
      closeProductModal();
      window.location.href = 'select-pet.html';
    }

    // Global modal functions
    function openLoginModal() { 
      const modal = document.getElementById('loginModal');
      if (modal) {
        modal.classList.remove('hidden'); 
        document.body.style.overflow = 'hidden'; 
      }
    }

    function closeLoginModal(){ 
      const modal = document.getElementById('loginModal');
      if (modal) {
        modal.classList.add('hidden'); 
        document.body.style.overflow = 'auto'; 
        
        // Clear form
        const form = document.getElementById('loginForm');
        const errorEl = document.getElementById('loginError');
        if (form) form.reset();
        if (errorEl) {
          errorEl.textContent = '';
          errorEl.classList.add('hidden');
        }
      }
    }

    // Close modals on outside click
    document.addEventListener('click', (e) => {
      const productModal = document.getElementById('productModal');
      const loginModal = document.getElementById('loginModal');
      const imagePreview = document.getElementById('imagePreview');
      
      if (productModal && e.target === productModal) {
        closeProductModal();
      }
      if (loginModal && e.target === loginModal) {
        closeLoginModal();
      }
      if (imagePreview && e.target === imagePreview) {
        closeImagePreview();
      }
    });

    // Close on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeProductModal();
        closeLoginModal();
        closeImagePreview();
      }
    });
  </script>
</body>
</html>